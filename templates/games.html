<ul id="games">
{% for game in games %}
  <li>
    <form method="POST" hx-post="/games/{{game.id}}" hx-target="#games" hx-swap="innerHTML">
      <input name="title" value="{{game.title}}" placeholder="Title">
      <input name="start_date" value="{{game.start_date}}" placeholder="Start Date">
      <input name="end_date" value="{{game.end_date}}" placeholder="End Date">
      <input name="steam_store_url" value="{{game.steam_store_url}}" placeholder="Steam URL">
      <input name="gog_store_url" value="{{game.gog_store_url}}" placeholder="GOG URL">
      <input name="image_url" value="{{game.image_url}}" placeholder="Image URL">

      <textarea name="comments" placeholder="Comments">{{game.comments|join(', ')}}</textarea>
      <input name="tags" value="{{game.tags|join(',')}}" placeholder="Tags (comma separated)">


<fieldset>
  <legend>Platforms</legend>
  {% for platform in Platforms %}
    <label>
      <input type="checkbox" name="platforms" value="{{platform.value}}"
        {% if platform.value in game.platforms|map(attribute='value')|list %}checked{% endif %}
      > {{platform.value}}
    </label>
  {% endfor %}

</fieldset>


<fieldset>
  <legend>Genres</legend>
  {% for genre in Genres %}
    <label>
      <input type="checkbox" name="genres" value="{{genre.value}}"
        {% if genre.value in game.genres|map(attribute='value')|list %}checked{% endif %}
      > {{genre.value}}
    </label>
  {% endfor %}
</fieldset>

      <input name="developer" value="{{game.developer}}" placeholder="Developer">
      <input name="rating" type="number" min="0" max="10" value="{{game.rating}}" placeholder="Rating">

      <label>
        <input type="checkbox" name="completed"
          {% if game.completed %}checked{% endif %} >
        Completed
      </label>

      <button type="submit">Save</button>
    </form>

    <button hx-post="/games/{{game.id}}/delete" hx-target="#games" hx-swap="innerHTML">‚ùå Delete</button>
  </li>
{% endfor %}
</ul>

<h3>Create New Game</h3>
<form method="POST" hx-post="/games" hx-target="#games" hx-swap="innerHTML">
  <input name="title" placeholder="Title">
  <input name="start_date" placeholder="Start Date">
  <input name="end_date" placeholder="End Date">
  <input name="steam_store_url" placeholder="Steam URL">
  <input name="gog_store_url" placeholder="GOG URL">
  <input name="image_url" placeholder="Image URL">
  
  <textarea name="comments" placeholder="Comments"></textarea>
  <input name="tags" placeholder="Tags (comma separated)">

<fieldset>
  <legend>Platforms</legend>
  {% for platform in Platforms %}
    <label>
      <input type="checkbox" name="platforms" value="{{platform.value}}"
      > {{platform.value}}
    </label>
  {% endfor %}

</fieldset>


<fieldset>
  <legend>Genres</legend>
  {% for genre in Genres %}
    <label>
      <input type="checkbox" name="genres" value="{{genre.value}}"
      > {{genre.value}}
    </label>
  {% endfor %}
</fieldset>


  <input name="developer" placeholder="Developer">
  <input name="rating" type="number" min="0" max="10" placeholder="Rating">
  <label>
    <input type="checkbox" name="completed"
    Completed
  </label>

  <button type="submit">Create</button>
</form>
