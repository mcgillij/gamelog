<ul id="games">
    {% for game in games %}
    <li id="game-{{ game.id }}">
        <div hx-get="/games/{{ game.id }}/edit" 
             hx-target="#game-{{ game.id }}" 
             hx-swap="outerHTML" 
             style="cursor: pointer;">
            <strong>{{ game.title }}</strong> ({{ game.start_date }} - {{ game.end_date }}) 
            <span>Rating: {{ game.rating }}</span>
            <br>
            <small>Platforms: {{ game.platforms | join(', ') }}</small>
            <button hx-get="/games/{{ game.id }}/edit"
                    hx-target="#game-{{ game.id }}"
                    hx-swap="outerHTML">
                    ‚úèÔ∏è
            </button>
        </div>
    </li>
    {% endfor %}
</ul>

<!-- Button to Show Create Form -->
<button id="show-create-btn"
        hx-on:click="document.getElementById('create-game-section').style.display='block';
                     this.style.display='none';">
    ‚ûï Add New Game
</button>

<!-- Create New Game Form, Hidden by Default -->
<div id="create-game-section" style="display: none;">
    <h3>Create New Game</h3>
    <form method="POST" hx-post="/games" hx-target="#games" hx-swap="innerHTML">
        <label for="title">Title</label>
        <input name="title" placeholder="Title">
        <label for="start_date">Start date</label>
        <input type="date" name="start_date" placeholder="Start Date">
        <label for="end_date">End date</label>
        <input type="date" name="end_date" placeholder="End Date">
        <label for="steam_store_url">Steam Store url</label>
        <input name="steam_store_url" placeholder="Steam URL">
        <label for="gog_store_url">GOG Store url</label>
        <input name="gog_store_url" placeholder="GOG URL">
        <label for="image_url">Image</label>
        <input name="image_url" placeholder="Image URL">

        <label for="comments">Comments</label>
        <textarea name="comments" placeholder="Comments"></textarea>
        <label for="tags">Tags</label>
        <input name="tags" placeholder="Tags (comma separated)">

        <label for="platforms">Platforms:</label>
        <select id="platforms" name="platforms" multiple>
            {% for platform in platforms %}
            <option value="{{ platform.id }}">{{ platform.name }}</option>
            {% endfor %}
        </select>

        <label for="genres">Genres:</label>
        <select id="genres" name="genres" multiple>
            {% for genre in genres %}
            <option value="{{ genre.id }}">{{ genre.name }}</option>
            {% endfor %}
        </select>

        <label for="developer">Developer</label>
        <input name="developer" placeholder="Developer">
        <label for="rating">Rating</label>
        <input name="rating" type="number" min="0" max="10" placeholder="Rating">
        <label for="completed">
            Completed
            <input type="checkbox" name="completed">
        </label>

        <button type="submit">üÜï</button>
        <button type="button" 
                hx-on:click="document.getElementById('create-game-section').style.display='none';
                             document.getElementById('show-create-btn').style.display='block';">
            ‚ùå
        </button>
    </form>
</div>
